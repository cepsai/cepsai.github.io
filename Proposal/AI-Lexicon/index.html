<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Regulatory Terminology â€” Digital Lexicon</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --color-primary: #1976d2;
  --color-text-primary: rgba(0,0,0,0.87);
  --color-text-secondary: rgba(0,0,0,0.54);
  --color-text-disabled: rgba(0,0,0,0.38);
  --color-border: rgba(0,0,0,0.12);
  --color-border-hover: rgba(0,0,0,0.87);
  --color-accent-dark: #494949;
  --color-bg: #ffffff;
  --color-bg-alt: #f5f5f5;
  --color-footer-bg: #1a1a1a;
  --font-heading: 'DM Sans', 'Roboto', sans-serif;
  --font-body: 'Roboto', sans-serif;
  --radius-sm: 4px;
  --radius-md: 8px;
  --transition-base: 200ms cubic-bezier(0.4,0,0.2,1);
  /* Jurisdiction colors */
  --j-eu: #1d4ed8;
  --j-eu-bg: rgba(29,78,216,0.08);
  --j-ca: #b45309;
  --j-ca-bg: rgba(180,83,9,0.08);
  --j-co: #047857;
  --j-co-bg: rgba(4,120,87,0.08);
  --j-ny: #7c3aed;
  --j-ny-bg: rgba(124,58,237,0.08);
  --j-tx: #b91c1c;
  --j-tx-bg: rgba(185,28,28,0.08);
  --j-utah: #0369a1;
  --j-utah-bg: rgba(3,105,161,0.08);
  /* Cluster colors */
  --c-governance: #207164;
  --c-technical: #1976d2;
  --c-measurement: #7c3aed;
  --c-trustworthy: #b91c1c;
  --c-lifecycle: #047857;
}
body {
  font-family: var(--font-body);
  font-size: 1rem;
  line-height: 1.4375;
  color: var(--color-text-primary);
  background: var(--color-bg);
  -webkit-font-smoothing: antialiased;
}

/* â”€â”€ Navbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 64px;
  padding: 0 24px;
  background: #fff;
  border-bottom: 1px solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: 1100;
  gap: 16px;
}
.nav-brand {
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
  flex-shrink: 0;
}
.nav-logo-mark {
  width: 36px;
  height: 36px;
  background: var(--j-eu);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 14px;
  color: #fff;
  letter-spacing: -0.5px;
  flex-shrink: 0;
}
.nav-title {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 1rem;
  color: var(--color-text-primary);
  line-height: 1.2;
}
.nav-subtitle {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-weight: 400;
}
.nav-badge {
  background: var(--color-bg-alt);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  padding: 4px 10px;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-text-secondary);
  letter-spacing: 0.04em;
  text-transform: uppercase;
  flex-shrink: 0;
}

/* â”€â”€ Search Hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.search-hero {
  background: var(--color-bg-alt);
  border-bottom: 1px solid var(--color-border);
  padding: 24px;
  position: relative;
}
.search-hero-inner {
  max-width: 800px;
  margin: 0 auto;
}
.search-label {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-primary);
  margin-bottom: 4px;
}
.search-sublabel {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-bottom: 16px;
}
.search-wrap {
  position: relative;
  display: flex;
  align-items: center;
}
.search-icon {
  position: absolute;
  left: 14px;
  color: var(--color-text-disabled);
  width: 20px;
  height: 20px;
  pointer-events: none;
}
#global-search {
  width: 100%;
  font-family: var(--font-body);
  font-size: 1rem;
  color: var(--color-text-primary);
  padding: 14px 14px 14px 44px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: #fff;
  outline: none;
  transition: border-color var(--transition-base), box-shadow var(--transition-base);
}
#global-search:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(25,118,210,0.12);
}
#global-search::placeholder { color: var(--color-text-disabled); }
.search-meta {
  margin-top: 10px;
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}
.search-meta-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: 999px;
  padding: 3px 10px;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-text-secondary);
}

/* â”€â”€ Module Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.module-tabs {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  background: #fff;
  padding: 0 24px;
  position: sticky;
  top: 64px;
  z-index: 900;
}
.module-tab {
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: 0.02em;
  color: var(--color-text-secondary);
  padding: 14px 20px;
  border: none;
  border-bottom: 3px solid transparent;
  background: none;
  cursor: pointer;
  transition: color var(--transition-base), border-color var(--transition-base);
  white-space: nowrap;
}
.module-tab:hover { color: var(--color-text-primary); }
.module-tab.active {
  color: var(--color-primary);
  border-bottom-color: var(--color-primary);
  font-weight: 600;
}

/* â”€â”€ Module Panels â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.module-panel {
  display: none;
  min-height: 60vh;
}
.module-panel.active { display: block; }
.container {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 24px;
}

/* â”€â”€ Module 1 â€” Terminology â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#module-terminology {
  background: var(--color-bg);
}
.terminology-header {
  padding: 32px 0 20px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}
.section-title {
  font-family: var(--font-heading);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-primary);
  margin-bottom: 4px;
}
.section-desc {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  max-width: 600px;
  line-height: 1.6;
}
.terminology-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--color-border);
  margin-bottom: 0;
}
.cluster-filters {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  flex: 1;
}
.cluster-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: #fff;
  font-family: var(--font-body);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all var(--transition-base);
  white-space: nowrap;
}
.cluster-chip:hover {
  border-color: var(--color-border-hover);
  color: var(--color-text-primary);
  background: var(--color-bg-alt);
}
.cluster-chip.active {
  color: #fff;
  border-color: transparent;
}
.cluster-chip[data-cluster="Governance"].active { background: var(--c-governance); }
.cluster-chip[data-cluster="Technical system attributes"].active { background: var(--c-technical); }
.cluster-chip[data-cluster="Measurement"].active { background: var(--c-measurement); }
.cluster-chip[data-cluster="Trustworthy"].active { background: var(--c-trustworthy); }
.cluster-chip[data-cluster="AI Lifecycle"].active { background: var(--c-lifecycle); }
.cluster-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.btn-2nd-ed {
  font-family: var(--font-body);
  font-size: 0.8125rem;
  font-weight: 500;
  padding: 8px 16px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--transition-base);
  white-space: nowrap;
  flex-shrink: 0;
}
.btn-2nd-ed.off {
  background: #fff;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
}
.btn-2nd-ed.off:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}
.btn-2nd-ed.on {
  background: var(--color-primary);
  border: 1px solid var(--color-primary);
  color: #fff;
}

/* Terminology table */
.term-table-wrap {
  overflow-x: auto;
  margin-bottom: 40px;
}
.term-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.8125rem;
}
.term-table thead tr {
  background: var(--color-bg-alt);
}
.term-table th {
  padding: 10px 14px;
  text-align: left;
  font-family: var(--font-body);
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  color: var(--color-text-secondary);
  border-bottom: 2px solid var(--color-border);
  white-space: nowrap;
  position: sticky;
  top: 0;
  background: var(--color-bg-alt);
  z-index: 1;
}
.term-table th.th-j {
  text-align: center;
}
.term-table td {
  padding: 8px 14px;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}
.term-table tr.cluster-header-row td {
  background: var(--color-bg-alt);
  font-family: var(--font-heading);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-text-secondary);
  padding: 8px 14px;
  border-bottom: 1px solid var(--color-border);
}
.term-table tr.cluster-header-row td .cluster-marker {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 8px;
  vertical-align: middle;
}
.term-table tr.concept-row {
  cursor: pointer;
  transition: background var(--transition-base);
}
.term-table tr.concept-row:hover td {
  background: rgba(25,118,210,0.04);
}
.term-table tr.concept-row.expanded td {
  background: rgba(25,118,210,0.03);
}
.term-table tr.second-ed-row td {
  background: rgba(180,83,9,0.025);
}
.term-table tr.second-ed-row:hover td {
  background: rgba(180,83,9,0.06);
}
.td-cluster {
  min-width: 140px;
}
.td-cluster-inner {
  display: flex;
  align-items: center;
  gap: 6px;
}
.row-cluster-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.td-concept {
  min-width: 200px;
}
.concept-name {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}
.badge-2nd {
  font-size: 0.6rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  background: rgba(180,83,9,0.12);
  color: #92400e;
  border: 1px solid rgba(180,83,9,0.2);
  border-radius: 3px;
  padding: 1px 5px;
  flex-shrink: 0;
}
.td-j {
  min-width: 140px;
  text-align: center;
}
.term-pill {
  display: inline-block;
  max-width: 180px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 500;
  text-align: center;
  cursor: pointer;
  transition: all var(--transition-base);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  line-height: 1.4;
  border: 1px solid transparent;
}
.term-pill:hover {
  filter: brightness(0.9);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0,0,0,0.12);
}
.pill-eu   { background: var(--j-eu-bg);   color: var(--j-eu);   border-color: rgba(29,78,216,0.25); }
.pill-ca   { background: var(--j-ca-bg);   color: var(--j-ca);   border-color: rgba(180,83,9,0.25); }
.pill-co   { background: var(--j-co-bg);   color: var(--j-co);   border-color: rgba(4,120,87,0.25); }
.pill-ny   { background: var(--j-ny-bg);   color: var(--j-ny);   border-color: rgba(124,58,237,0.25); }
.pill-tx   { background: var(--j-tx-bg);   color: var(--j-tx);   border-color: rgba(185,28,28,0.25); }
.pill-utah { background: var(--j-utah-bg); color: var(--j-utah); border-color: rgba(3,105,161,0.25); }
.td-empty { color: var(--color-text-disabled); font-size: 0.75rem; text-align: center; }
.expand-row-detail {
  display: none;
  background: #fafbfd;
}
.expand-row-detail.show { display: table-row; }
.expand-detail-cell {
  padding: 16px 20px 20px;
  border-bottom: 2px solid var(--color-border);
}
.expand-detail-inner {
  max-width: 960px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 14px;
}
.def-card {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: 14px;
  font-size: 0.8125rem;
}
.def-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}
.j-badge {
  display: inline-block;
  padding: 3px 9px;
  border-radius: 999px;
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  color: #fff;
  flex-shrink: 0;
}
.j-badge.eu   { background: var(--j-eu); }
.j-badge.ca   { background: var(--j-ca); }
.j-badge.co   { background: var(--j-co); }
.j-badge.ny   { background: var(--j-ny); }
.j-badge.tx   { background: var(--j-tx); }
.j-badge.utah { background: var(--j-utah); }
.def-card-term {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 0.9375rem;
  color: var(--color-text-primary);
}
.def-card-def {
  color: var(--color-text-secondary);
  line-height: 1.55;
  margin-bottom: 8px;
  font-size: 0.8125rem;
}
.def-card-src {
  font-size: 0.6875rem;
  color: var(--color-text-disabled);
  font-style: italic;
}
.differences-note {
  background: #fffbeb;
  border: 1px solid #fde68a;
  border-radius: var(--radius-sm);
  padding: 10px 14px;
  font-size: 0.8125rem;
  color: #92400e;
  line-height: 1.55;
  margin-top: 14px;
  grid-column: 1 / -1;
}
.differences-note strong { font-weight: 600; }
.xref-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 14px;
  grid-column: 1 / -1;
}
.xref-chip {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.6875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-base);
  border: 1px solid;
}
.xref-chip.near-synonym { color: #047857; background: rgba(4,120,87,0.08); border-color: rgba(4,120,87,0.25); }
.xref-chip.conflict     { color: #b91c1c; background: rgba(185,28,28,0.08); border-color: rgba(185,28,28,0.25); }
.xref-chip.equivalent   { color: #1d4ed8; background: rgba(29,78,216,0.08); border-color: rgba(29,78,216,0.25); }
.xref-chip:hover { filter: brightness(0.85); }

/* â”€â”€ Module 2 â€” Variations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#module-variations { background: var(--color-bg); }
.variations-header { padding: 32px 0 20px; }
.variations-selector-row {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}
.concept-select {
  font-family: var(--font-body);
  font-size: 0.9375rem;
  color: var(--color-text-primary);
  padding: 10px 14px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: #fff;
  outline: none;
  min-width: 320px;
  cursor: pointer;
  transition: border-color var(--transition-base);
}
.concept-select:focus { border-color: var(--color-primary); }
.variations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
  margin-bottom: 32px;
}
.variation-card {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
  transition: box-shadow var(--transition-base);
}
.variation-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.variation-card-header {
  padding: 12px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  border-bottom: 1px solid var(--color-border);
}
.variation-card-term {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 1rem;
  color: var(--color-text-primary);
}
.variation-card-body { padding: 16px; }
.variation-def {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: 1.65;
  margin-bottom: 12px;
  font-style: italic;
}
.variation-src {
  font-size: 0.75rem;
  color: var(--color-text-disabled);
  margin-bottom: 0;
  border-top: 1px solid var(--color-border);
  padding-top: 10px;
  margin-top: 10px;
}
.def-hist-box {
  background: var(--color-bg-alt);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: 16px 20px;
  margin-bottom: 32px;
}
.def-hist-title {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 0.9375rem;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.def-hist-title::before {
  content: '';
  display: inline-block;
  width: 10px; height: 10px;
  background: var(--color-primary);
  border-radius: 50%;
}
.def-hist-text {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  line-height: 1.6;
}
.no-variations-msg {
  padding: 60px 0;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9375rem;
}

/* â”€â”€ Module 3 â€” Obligations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#module-obligations { background: var(--color-bg); }
.obligations-header { padding: 32px 0 20px; }
.obligations-filters {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 24px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--color-border);
}
.j-filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: #fff;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-base);
  white-space: nowrap;
  color: var(--color-text-secondary);
}
.j-filter-chip:hover {
  background: var(--color-bg-alt);
  color: var(--color-text-primary);
}
.j-filter-chip.active { color: #fff; border-color: transparent; }
.j-filter-chip[data-j="EU"].active    { background: var(--j-eu); }
.j-filter-chip[data-j="CA"].active    { background: var(--j-ca); }
.j-filter-chip[data-j="CO"].active    { background: var(--j-co); }
.j-filter-chip[data-j="NY"].active    { background: var(--j-ny); }
.j-filter-chip[data-j="TX"].active    { background: var(--j-tx); }
.j-filter-chip[data-j="Utah"].active  { background: var(--j-utah); }
.j-filter-dot {
  width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
}
.ob-theme {
  margin-bottom: 8px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}
.ob-theme-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: var(--color-bg-alt);
  cursor: pointer;
  transition: background var(--transition-base);
  gap: 12px;
}
.ob-theme-header:hover { background: #ebebeb; }
.ob-theme-header.open { background: #e8edf5; }
.ob-theme-title {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 0.9375rem;
  color: var(--color-text-primary);
  flex: 1;
}
.ob-theme-count {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  flex-shrink: 0;
}
.ob-theme-chevron {
  width: 18px; height: 18px;
  color: var(--color-text-secondary);
  transition: transform var(--transition-base);
  flex-shrink: 0;
}
.ob-theme-chevron.open { transform: rotate(180deg); }
.ob-theme-body {
  display: none;
  padding: 16px;
  display: none;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 12px;
}
.ob-theme-body.open {
  display: grid;
}
.ob-card {
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
  transition: box-shadow var(--transition-base);
}
.ob-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
.ob-card-header {
  padding: 10px 14px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--color-bg-alt);
}
.ob-card-article {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-text-secondary);
  margin-left: auto;
  flex-shrink: 0;
}
.ob-card-title {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  padding: 10px 14px 6px;
}
.ob-card-text {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  line-height: 1.65;
  padding: 0 14px 14px;
}
.ob-card-link {
  display: inline-block;
  margin: 0 14px 12px;
  font-size: 0.75rem;
  color: var(--color-primary);
  text-decoration: none;
}
.ob-card-link:hover { text-decoration: underline; }

/* â”€â”€ Highlight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
mark {
  background: #fef08a;
  color: inherit;
  border-radius: 2px;
  padding: 0 1px;
}

/* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.footer {
  background: var(--color-footer-bg);
  color: #fff;
  padding: 48px 24px 32px;
  margin-top: 64px;
}
.footer-inner {
  max-width: 1280px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 32px;
  flex-wrap: wrap;
}
.footer-brand {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 1rem;
  color: #fff;
  margin-bottom: 8px;
}
.footer-tagline {
  font-size: 0.875rem;
  color: rgba(255,255,255,0.5);
  margin-bottom: 16px;
  max-width: 280px;
  line-height: 1.5;
}
.footer-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.footer-links a {
  color: rgba(255,255,255,0.6);
  text-decoration: none;
  font-size: 0.875rem;
  transition: color var(--transition-base);
}
.footer-links a:hover { color: #fff; }
.footer-copy {
  font-size: 0.75rem;
  color: rgba(255,255,255,0.3);
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid rgba(255,255,255,0.1);
  max-width: 1280px;
  margin-left: auto;
  margin-right: auto;
}

/* â”€â”€ Utility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.hidden { display: none !important; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border-width: 0; }

@media (max-width: 768px) {
  .navbar { height: auto; padding: 12px 16px; flex-wrap: wrap; }
  .search-hero { padding: 16px; }
  .container { padding: 0 16px; }
  .variations-grid { grid-template-columns: 1fr; }
  .ob-theme-body { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<!-- â”€â”€ Navbar â”€â”€ -->
<nav class="navbar">
  <a class="nav-brand" href="#">
    <div class="nav-logo-mark">TTD</div>
    <div>
      <div class="nav-title">AI Regulatory Terminology</div>
      <div class="nav-subtitle">Digital Lexicon â€” Cross-Jurisdiction Analysis</div>
    </div>
  </a>
  <span class="nav-badge">CEPS Â· TTC WG1</span>
</nav>

<!-- â”€â”€ Search Hero â”€â”€ -->
<div class="search-hero">
  <div class="search-hero-inner">
    <div class="search-label">Searchable Digital Lexicon</div>
    <div class="search-sublabel">Search across all terms, definitions, and jurisdictions. Click any concept to explore cross-jurisdictional variations.</div>
    <div class="search-wrap">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
      </svg>
      <input type="search" id="global-search" placeholder="Search terms, definitions, jurisdictionsâ€¦" autocomplete="off">
    </div>
    <div class="search-meta">
      <span class="search-meta-badge" id="meta-new-concepts">â— New concepts</span>
      <span class="search-meta-badge" id="meta-2nd-ed">2nd edition terms</span>
      <span class="search-meta-badge" id="meta-xrefs">Cross-references</span>
    </div>
  </div>
</div>

<!-- â”€â”€ Module Tabs â”€â”€ -->
<div class="module-tabs" role="tablist">
  <button class="module-tab active" data-module="terminology" role="tab" aria-selected="true">
    Terminology Overview
  </button>
  <button class="module-tab" data-module="variations" role="tab" aria-selected="false">
    Conceptual Variations
  </button>
  <button class="module-tab" data-module="obligations" role="tab" aria-selected="false">
    Obligations &amp; Enforcement
  </button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE 1 â€” TERMINOLOGY OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="module-terminology" class="module-panel active" role="tabpanel">
  <div class="container">
    <div class="terminology-header">
      <div>
        <div class="section-title">Terminology Overview</div>
        <div class="section-desc">Concepts introduced by recent AI regulation, organized by cluster. New regulatory concepts are shown by default. Each row compares how the concept is named and defined across EU and US jurisdictions. Click any row to expand definitions; click a jurisdiction pill to jump to Conceptual Variations.</div>
      </div>
    </div>
    <div class="terminology-controls">
      <div class="cluster-filters" id="cluster-filters">
        <button class="cluster-chip active" data-cluster="all">
          <span class="cluster-dot" style="background:#888"></span> All clusters
        </button>
        <button class="cluster-chip" data-cluster="Governance">
          <span class="cluster-dot" style="background:var(--c-governance)"></span> Governance
        </button>
        <button class="cluster-chip" data-cluster="Technical system attributes">
          <span class="cluster-dot" style="background:var(--c-technical)"></span> Technical system attributes
        </button>
        <button class="cluster-chip" data-cluster="Measurement">
          <span class="cluster-dot" style="background:var(--c-measurement)"></span> Measurement
        </button>
        <button class="cluster-chip" data-cluster="Trustworthy">
          <span class="cluster-dot" style="background:var(--c-trustworthy)"></span> Trustworthy
        </button>
        <button class="cluster-chip" data-cluster="AI Lifecycle">
          <span class="cluster-dot" style="background:var(--c-lifecycle)"></span> AI Lifecycle
        </button>
      </div>
      <button class="btn-2nd-ed off" id="btn-2nd-ed">+ Add 2nd Edition Terms</button>
    </div>
    <div class="term-table-wrap">
      <table class="term-table" id="term-table">
        <thead>
          <tr>
            <th style="min-width:130px">Cluster</th>
            <th style="min-width:190px">Concept</th>
            <th class="th-j" style="min-width:130px">ğŸ‡ªğŸ‡º EU</th>
            <th class="th-j" style="min-width:130px">ğŸ‡ºğŸ‡¸ California</th>
            <th class="th-j" style="min-width:130px">ğŸ‡ºğŸ‡¸ Colorado</th>
            <th class="th-j" style="min-width:130px">ğŸ‡ºğŸ‡¸ New York</th>
            <th class="th-j" style="min-width:115px">ğŸ‡ºğŸ‡¸ Texas</th>
            <th class="th-j" style="min-width:115px">ğŸ‡ºğŸ‡¸ Utah</th>
          </tr>
        </thead>
        <tbody id="term-tbody">
          <!-- Populated by JS -->
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE 2 â€” CONCEPTUAL VARIATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="module-variations" class="module-panel" role="tabpanel">
  <div class="container">
    <div class="variations-header">
      <div class="section-title">Conceptual Variations</div>
      <div class="section-desc" style="margin-bottom:20px">Select a concept to compare how it is defined across jurisdictions. Definitions are quoted directly from source legislation. Where the same term covers different scope or uses different thresholds, divergences are highlighted.</div>
      <div class="variations-selector-row">
        <select class="concept-select" id="concept-selector">
          <option value="">â€” Select a concept to compare â€”</option>
        </select>
      </div>
    </div>
    <div id="def-history-box" class="def-hist-box hidden"></div>
    <div id="variations-grid" class="variations-grid">
      <div class="no-variations-msg">Select a concept above to see cross-jurisdictional definitions.</div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODULE 3 â€” OBLIGATIONS & ENFORCEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="module-obligations" class="module-panel" role="tabpanel">
  <div class="container">
    <div class="obligations-header">
      <div class="section-title">Obligations &amp; Enforcement</div>
      <div class="section-desc" style="margin-bottom:20px">Key obligations from AI legislation, organized by regulatory theme. Texts are drawn from authoritative sources including the EU AI Act, California SB-53, Colorado SB24-205, New York A6453B, and Texas HB149. Filter by jurisdiction.</div>
      <div class="obligations-filters" id="obligations-filters">
        <button class="j-filter-chip active" data-j="all">All jurisdictions</button>
        <button class="j-filter-chip" data-j="EU">
          <span class="j-filter-dot" style="background:var(--j-eu)"></span> EU
        </button>
        <button class="j-filter-chip" data-j="CA">
          <span class="j-filter-dot" style="background:var(--j-ca)"></span> California
        </button>
        <button class="j-filter-chip" data-j="CO">
          <span class="j-filter-dot" style="background:var(--j-co)"></span> Colorado
        </button>
        <button class="j-filter-chip" data-j="NY">
          <span class="j-filter-dot" style="background:var(--j-ny)"></span> New York
        </button>
        <button class="j-filter-chip" data-j="TX">
          <span class="j-filter-dot" style="background:var(--j-tx)"></span> Texas
        </button>
      </div>
      <div id="ob-themes-container">
        <!-- Populated by JS -->
      </div>
    </div>
  </div>
</div>

<!-- â”€â”€ Footer â”€â”€ -->
<footer class="footer">
  <div class="footer-inner">
    <div>
      <div class="footer-brand">AI Regulatory Terminology â€” Digital Lexicon</div>
      <div class="footer-tagline">A cross-jurisdictional lexicon for AI regulatory concepts. Part of the CEPS Terminology and Taxonomy for AI (TTD) initiative.</div>
    </div>
    <div class="footer-links">
      <a href="https://www.ceps.eu" target="_blank" rel="noopener">CEPS</a>
      <a href="https://digital-strategy.ec.europa.eu/en/library/eu-us-terminology-and-taxonomy-artificial-intelligence-second-edition" target="_blank" rel="noopener">TTC WG1 2nd Edition</a>
      <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689" target="_blank" rel="noopener">EU AI Act</a>
      <a href="https://airc.nist.gov/Docs/1" target="_blank" rel="noopener">NIST AI RMF</a>
    </div>
  </div>
  <div class="footer-copy">
    Data sources: EU AI Act (Reg. 2024/1689) Â· CA SB-53, AB-2013, SB-942 Â· CO SB24-205 Â· NY A6453B, S8828 Â· Texas HB149 Â· Utah SB-226 Â· TTC WG1 2nd Edition Â· NIST AI RMF 1.0 Â· GPAI Code of Practice
  </div>
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const NEW_CONCEPTS = [{"cluster": "Governance", "eu": {"term": "Conformity assessment", "def": "\"â€˜conformity assessmentâ€™ means the process of demonstrating whether the requirements set out in Chapter III, Section 2 relating to a high-risk AI system have been fulfilled\"", "src": "AIA article 3"}, "ca": null, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": {"term": "Deployer", "def": "\"â€˜deployerâ€™ means a natural or legal person, public authority, agency or other body using an AI system under its authority except where the AI system is used in the course of a personal non-professional activity\"", "src": "AIA article 3"}, "ca": null, "co": null, "ny": null, "tx": {"term": "Deployer", "def": "\"Deployer\" means a person who deploys an artificial intelligence system for use in this state.", "src": "Texas HB149 TRAIGA"}, "utah": null, "differences": ""}, {"cluster": "Technical system attributes", "eu": {"term": "General purpose AI model", "def": "\"â€˜general-purpose AI modelâ€™ means an AI model, including where such an AI model is trained with a large amount of data using self-supervision at scale, that displays significant generality and is capable of competently performing a wide range of distinct tasks regardless of the way the model is placed on the market and that can be integrated into a variety of downstream systems or applications, except AI models that are used for research, development or prototyping activities before they are placed on the market\"", "src": "AIA article 3 (63)"}, "ca": {"term": "Foundation model", "def": "(f) â€œFoundation modelâ€ means an artificial intelligence model that is all of the following: (1) Trained on a broad data set. (2) Designed for generality of output. (3) Adaptable to a wide range of distinctive tasks.", "src": "California SB53"}, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Technical system attributes", "eu": null, "ca": {"term": "Frontier model", "def": "(i) (1) â€œFrontier modelâ€ means a foundation model that was trained using a quantity of computing power greater than 10^26 integer or floating-point operations.", "src": "California SB53"}, "co": null, "ny": {"term": "Frontier model", "def": "\"frontier model\" means either of the following: (a) an artificial intelligence model trained using greater than 10Âº26 computational operations (e.g., integer or floating-point operations), the compute cost of which exceeds one hundred million dollars; or (b) an artificial intelligence model produced by applying knowledge distillation to a frontier model as defined in paragraph (a) of this subdivision, provided that the compute cost for such model produced by applying knowledge distillation exceeds five million dollars.", "src": "NY A6453B"}, "tx": null, "utah": null, "differences": ""}, {"cluster": "Technical system attributes", "eu": {"term": "General purpose AI system", "def": "\"â€˜general-purpose AI systemâ€™ means an AI system which is based on a general-purpose AI model and which has the capability to serve a variety of purposes, both for direct use as well as for integration in other AI systems\"", "src": "AIA article 3 (66)"}, "ca": {"term": "Generative AI", "def": "â€œGenerative artificial intelligenceâ€ means artificial intelligence that can generate derived synthetic content, such as text, images, video, and audio, that emulates the structure and characteristics of the artificial intelligenceâ€™s training data.", "src": "California AB2013"}, "co": null, "ny": null, "tx": null, "utah": {"term": "Generative AI", "def": "\"Generative artificial intelligence\" means an artificial intelligence technology system that: (a) is trained on data; (b) is designed to simulate human conversation with a consumer through one or more of the following: (i) text; (ii) audio; or (iii) visual communication; and (c) generates non-scripted outputs similar to outputs created by a human, with limited or no human oversight.", "src": "Utah SB226"}, "differences": ""}, {"cluster": "Technical system attributes", "eu": null, "ca": {"term": "Generative AI", "def": "â€œGenerative artificial intelligence systemâ€ or â€œGenAI systemâ€ means an artificial intelligence that can generate derived synthetic content, including text, images, video, and audio, that emulates the structure and characteristics of the systemâ€™s training data.", "src": "California SB942"}, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Technical system attributes", "eu": {"term": "High-impact capabilities", "def": "\"â€˜high-impact capabilitiesâ€™ means capabilities that match or exceed the capabilities recorded in the most advanced general-purpose AI models\"", "src": "AIA article 3 (64)"}, "ca": null, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Technical system attributes", "eu": {"term": "High-risk systems", "def": "Include AI systems listed in any of the following areas: biometrics; critical infrastructure; educational and vocational training; employment, workers' management and access to self-employment; access to and enjoyment of essential private services and essential public services and benefits; law enforcement; migration, asylum and border control management; administration of justice and democratic processes. [check for detail]", "src": "Annex III"}, "ca": null, "co": {"term": "High-risk AI system", "def": "\"High-risk artificial intelligence system\" means any artificial intelligence system that, when deployed, makes, or is a substantial factor in making, a consequential decision. [quite similar to EU, see exclusions if relevant]", "src": "Colorado SB24-205"}, "ny": null, "tx": null, "utah": null, "differences": "Colorado SB24-205"}, {"cluster": "Technical system attributes", "eu": {"term": "High-risk systems", "def": "Include AI systems listed in any of the following areas: biometrics; critical infrastructure; educational and vocational training; employment, workers' management and access to self-employment; access to and enjoyment of essential private services and essential public services and benefits; law enforcement; migration, asylum and border control management; administration of justice and democratic processes. [check for detail]", "src": "Annex III"}, "ca": null, "co": {"term": "Consequential decision", "def": "\"Consequential decision\" means a decision that has a material legal or similarly significant effect on the provision or denial to any consumer of, or the cost or terms of: (a) education enrollment or an education opportunity; (b) employment or an employment opportunity; (c) a financial or lending service; (d) an essential government service; (e) Health-care services; (f) housing; (g) insurance; or (h) a legal service.", "src": "Colorado SB24-205"}, "ny": null, "tx": null, "utah": null, "differences": "Colorado SB24-205"}, {"cluster": "Governance", "eu": {"term": "Postmarket monitoring system", "def": "â€˜post-market monitoring systemâ€™ means all activities carried out by providers of AI systems to collect and review experience gained from the use of AI systems they place on the market or put into service for the purpose of identifying any need to immediately apply any necessary corrective or preventive actions;", "src": "AIA article 3 (25)"}, "ca": null, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": {"term": "Quality management system", "def": "Providers of high-risk AI systems shall put a quality management system in place that ensures compliance with this Regulation. That system shall be documented in a systematic and orderly manner in the form of written policies, procedures and instructions, and shall include at least the following aspects: (a) a strategy for regulatory compliance, including compliance with conformity assessment procedures and procedures for the management of modifications to the high-risk AI system; (b) techniques, procedures and systematic actions to be used for the design, design control and design verification of the high-risk AI system; (c) techniques, procedures and systematic actions to be used for the development, quality control and quality assurance of the high-risk AI system; (d) examination, test and validation procedures to be carried out before, during and after the development of the high-risk AI system, and the frequency with which they have to be carried out; (e) technical specifications, including standards, to be applied and, where the relevant harmonised standards are not applied in full or do not cover all of the relevant requirements set out in Section 2, the means to be used to ensure that the high-risk AI system complies with those requirements; (f) systems and procedures for data management, including data acquisition, data collection, data analysis, data labelling, data storage, data filtration, data mining, data aggregation, data retention and any other operation regarding the data that is performed before and for the purpose of the placing on the market or the putting into service of high-risk AI systems; (g) the risk management system referred to in Article 9; (h) the setting-up, implementation and maintenance of a post-market monitoring system, in accordance with Article 72; (i) procedures related to the reporting of a serious incident in accordance with Article 73; (j) the handling of communication with national competent authorities, other relevant authorities, including those providing or supporting the access to data, notified bodies, other operators, customers or other interested parties; (k) systems and procedures for record-keeping of all relevant documentation and information; (l) resource management, including security-of-supply related measures; (m) an accountability framework setting out the responsibilities of the management and other staff with regard to all the aspects listed in this paragraph.", "src": "AIA article 17"}, "ca": null, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": {"term": "Provider", "def": "\"â€˜providerâ€™ means a natural or legal person, public authority, agency or other body that develops an AI system or a general-purpose AI model or that has an AI system or a general-purpose AI model developed and places it on the market or puts the AI system into service under its own name or trademark, whether for payment or free of charge\"", "src": "AIA article 3"}, "ca": {"term": "Developer", "def": "â€œDeveloperâ€ means a person, partnership, state or local government agency, or corporation that designs, codes, produces, or substantially modifies an artificial intelligence system or service for use by members of the public.", "src": "California AB2013"}, "co": {"term": "Developer", "def": "\"Developer\" means a person doing business in this state that develops or intentionally and substantially modifies an artificial intelligence system.", "src": "Colorado SB24-205"}, "ny": {"term": "Large developer", "def": "\"large developer\" means a person that has trained at least one frontier model and has spent over one hundred million dollars in compute costs in aggregate in training frontier models. Accredited colleges and universities shall not be considered large developers under this article to the extent that such colleges and universities are engaging in academic research. If a person subsequently transfers full intellectual property rights of the frontier model to another person (including the right to resell the model) and retains none of those rights for them- self, then the receiving person shall be considered the large developer and shall be subject to the responsibilities and requirements of this article after such transfer.", "src": "NY A6453B"}, "tx": {"term": "Developer", "def": "\"Developer\" means a person who develops an artificial intelligence system that is offered, sold, leased, given, or otherwise provided in this state.", "src": "Texas HB149 TRAIGA"}, "utah": null, "differences": "Colorado SB24-205"}, {"cluster": "Governance", "eu": null, "ca": {"term": "Frontier developer", "def": "(h) â€œFrontier developerâ€ means a person who has trained, or initiated the training of, a frontier model, with respect to which the person has used, or intends to use, at least as much computing power to train the frontier model as would meet the technical specifications found in subdivision (i).", "src": "California SB53"}, "co": null, "ny": null, "tx": {"term": "Developer", "def": "\"Developer\" means a person who develops an artificial intelligence system that is offered, sold, leased, given, or otherwise provided in this state.", "src": "Texas HB149 TRAIGA"}, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": null, "ca": {"term": "Large frontier developer", "def": "(j) â€œLarge frontier developerâ€ means a frontier developer that together with its affiliates collectively had annual gross revenues in excess of five hundred million dollars ($500,000,000) in the preceding calendar year.", "src": "California SB53"}, "co": null, "ny": null, "tx": {"term": "Developer", "def": "\"Developer\" means a person who develops an artificial intelligence system that is offered, sold, leased, given, or otherwise provided in this state.", "src": "Texas HB149 TRAIGA"}, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": null, "ca": {"term": "Covered provider", "def": "â€œCovered providerâ€ means a person that creates, codes, or otherwise produces a generative artificial intelligence system that has over 1,000,000 monthly visitors or users and is publicly accessible within the geographic boundaries of the state", "src": "California SB942"}, "co": null, "ny": null, "tx": {"term": "Developer", "def": "\"Developer\" means a person who develops an artificial intelligence system that is offered, sold, leased, given, or otherwise provided in this state.", "src": "Texas HB149 TRAIGA"}, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": {"term": "Risk management system", "def": "A risk management system shall be established, implemented, documented and maintained in relation to high-risk AI systems. The risk management system shall be understood as a continuous iterative process planned and run throughout the entire lifecycle of a high-risk AI system, requiring regular systematic review and updating. (a) identification and analysis of known and reasonably foreseeable risks to health, safety or fundamental rights; (b) estimation and evaluation of risks in intended use and reasonably foreseeable misuse; (c) evaluation of other risks based on post-market monitoring data (Art. 72); (d) adoption of appropriate and targeted risk management measures to address the risks identified.", "src": "AIA article 9"}, "ca": {"term": "Frontier AI framework", "def": "(g) â€œFrontier AI frameworkâ€ means documented technical and organizational protocols to manage, assess, and mitigate catastrophic risks.", "src": "California SB53"}, "co": null, "ny": {"term": "Safety and security protocol", "def": "\"safety and security protocol\" means documented technical and organizational protocols that: (a) describe reasonable protections and procedures that, if successfully implemented would appropriately reduce the risk of critical harm; (b) describe reasonable administrative, technical, and physical cybersecurity protections for frontier models within the large developer's control that, if successfully implemented, appropriately reduce the risk of unauthorized access to, or misuse of, the frontier models leading to critical harm, including by sophisticated actors; (c) describe in detail the testing procedure to evaluate if the frontier model poses an unreasonable risk of critical harm and whether the frontier model could be misused, be modified, be executed with increased computational resources, evade the control of its large developer or user, be combined with other software or be used to create another frontier model in a manner that would increase the risk of critical harm; (d) enable the large developer or third party to comply with the requirements of this article; and (e) designate senior personnel to be responsible for ensuring compliance.", "src": "NY A6453B"}, "tx": null, "utah": null, "differences": ""}, {"cluster": "Trustworthy", "eu": {"term": "Serious incident", "def": "â€˜serious incidentâ€™ means an incident or malfunctioning of an AI system that directly or indirectly leads to any of the following: (a) the death of a person, or serious harm to a personâ€™s health; (b) a serious and irreversible disruption of the management or operation of critical infrastructure; (c) the infringement of obligations under Union law intended to protect fundamental rights; (d) serious harm to property or the environment;", "src": "AIA article 3 (49)"}, "ca": {"term": "Critical safety incident", "def": "(d) â€œCritical safety incidentâ€ means any of the following: (1) Unauthorized access to, modification of, or exfiltration of, the model weights of a frontier model that results in death or bodily injury. (2) Harm resulting from the materialization of a catastrophic risk. (3) Loss of control of a frontier model causing death or bodily injury. (4) A frontier model that uses deceptive techniques against the frontier developer to subvert the controls or monitoring of its frontier developer outside of the context of an evaluation designed to elicit this behavior and in a manner that demonstrates materially increased catastrophic risk.", "src": "California SB53"}, "co": null, "ny": {"term": "Safety incident", "def": "\"safety incident\" means a known incidence of critical harm or an incident of the following kinds that occurs in such a way that it provides demonstrable evidence of an increased risk of critical harm: (a) a frontier model autonomously engaging in behavior other than at the request of a user; (b) theft, misappropriation, malicious use, inadvertent release, unau- thorized access, or escape of the model weights of a frontier model; (c) the critical failure of any technical or administrative controls, including controls limiting the ability to modify a frontier model; or (d) unauthorized use of a frontier model.", "src": "NY A6453B"}, "tx": null, "utah": null, "differences": ""}, {"cluster": "Trustworthy", "eu": null, "ca": null, "co": null, "ny": {"term": "Critical harm", "def": "\"critical harm\" means the death or serious injury of one hundred or more people or at least one billion dollars of damages to rights in money or property caused or materially enabled by a large developer's use, storage, or release of a frontier model, through either of the following: (a) the creation or use of a chemical, biological, radiological, or nuclear weapon; or (b) an artificial intelligence model engaging in conduct that does both of the following: (i) acts with no meaningful human intervention; and (ii) would, if committed by a human, constitute a crime specified in the penal law that requires intent, recklessness, or gross negligence, or the solicitation or aiding and abetting of such a crime. A harm inflicted by an intervening human actor shall not be deemed to result from a developer's activities unless such activities were a substantial factor in bringing about the harm, the intervening human actor's conduct was reasonably foreseeable as a probable consequence of the developer's activities, and could have been reasonably prevented or mitigated through alternative design, or security measures, or safety protocols.", "src": "NY A6453B"}, "tx": null, "utah": null, "differences": ""}, {"cluster": "Measurement", "eu": {"term": "Substantial modification", "def": "â€˜substantial modificationâ€™ means a change to an AI system after its placing on the market or putting into service which is not foreseen or planned in the initial conformity assessment carried out by the provider and as a result of which the compliance of the AI system with the requirements set out in Chapter III, Section 2 is affected or results in a modification to the intended purpose for which the AI system has been assessed;", "src": "AIA article 3 (23)"}, "ca": {"term": "Substantial modification", "def": "â€œSubstantially modifiesâ€ or â€œsubstantial modificationâ€ means a new version, new release, or other update to a generative artificial intelligence system or service that materially changes its functionality or performance, including the results of retraining or fine tuning.", "src": "California AB2013"}, "co": {"term": "Intentional and substantial modification", "def": "\"Intentional and substantial modification\" or \"intentionally and substantially modifies\" means a deliberate change made to an artificial intelligence system that results in any new reasonably foreseeable risk of algorithmic discrimination.", "src": "Colorado SB24-205"}, "ny": null, "tx": null, "utah": null, "differences": "Colorado SB24-205"}, {"cluster": "Measurement", "eu": null, "ca": null, "co": {"term": "Intentional and substantial modification (applicability)", "def": "(B) \"intentional and substantial modification\" or \"intentionally and substantially modifies\" does not include a change made to a high-risk artificial intelligence system, or the performance of a high-risk artificial intelligence system, if: (i) the high-risk artificial intelligence system continues to learn after the high-risk artificial intelligence system is: (a) offered, sold, leased, licensed, given, or otherwise made available to a deployer; or (b) deployed; (ii) the change is made to the high-risk artificial intelligence system as a result of any learning described in subsection (10)(b)(i) of this section; (iii) the change was predetermined by the deployer, or a third party contracted by the deployer, when the deployer or third party completed an initial impact assessment of such high-risk artificial intelligence system pursuant to section 6-1-1703 (3); and (iv) the change is included in technical documentation for the high-risk artificial intelligence system.", "src": "Colorado SB24-205"}, "ny": null, "tx": null, "utah": null, "differences": "Colorado SB24-205"}, {"cluster": "Measurement", "eu": {"term": "Systemic risk", "def": "\"â€˜systemic riskâ€™ means a risk that is specific to the high-impact capabilities of general-purpose AI models, having a significant impact on the Union market due to their reach, or due to actual or reasonably foreseeable negative effects on public health, safety, public security, fundamental rights, or the society as a whole, that can be propagated at scale across the value chain\"", "src": "AIA article 3 (65)"}, "ca": {"term": "Catastrophic risk", "def": "â€œCatastrophic riskâ€ means a foreseeable and material risk that a frontier developerâ€™s development, storage, use, or deployment of a frontier model will materially contribute to the death of, or serious injury to, more than 50 people or more than one billion dollars ($1,000,000,000) in damage to, or loss of, property arising from a single incident involving a frontier model doing any of the following: (A) Providing expert-level assistance in the creation or release of a chemical, biological, radiological, or nuclear weapon. (B) Engaging in conduct with no meaningful human oversight, intervention, or supervision that is either a cyberattack or, if the conduct had been committed by a human, would constitute the crime of murder, assault, extortion, or theft, including theft by false pretense. (C) Evading the control of its frontier developer or user. (2) â€œCatastrophic riskâ€ does not include a foreseeable and material risk from any of the following: (A) Information that a frontier model outputs if the information is otherwise publicly accessible in a substantially similar form from a source other than a foundation model. (B) Lawful activity of the federal government. (C) Harm caused by a frontier model in combination with other software if the frontier model did not materially contribute to the harm.", "src": "California SB53"}, "co": null, "ny": {"term": "Catastrophic risk", "def": "3. (a) \"catastrophic risk\" means a foreseeable and material risk that a frontier developer's development, storage, use, or deployment of a frontier model will materially contribute to the death of, or serious injury to, more than fifty people or more than one billion dollars in damage to, or loss of, property arising from a single incident involving a frontier model doing any of the following: s. 8828 3 (i) providing expert-level assistance in the creation or release of a chemical, biological, radiological, or nuclear weapon; (ii) engaging in conduct with no meaningful human oversight, inter- vention, or supervision that is either a cyberattack or, if the conduct had been committed by a human, would constitute the crime of murder, assault, extortion, or theft, including theft by false pretense; or (iii) evading the control of its frontier developer or user. (b) \"catastrophic risk\" does not include a foreseeable and material risk from any of the following: (i) information that a frontier model outputs if the information is otherwise publicly accessible in a substantially similar form from a source other than a foundation model; (ii) lawful activity of the federal government; or (iii) harm caused by a frontier model in combination with other soft- ware if the frontier model did not materially contribute to the harm.", "src": "NY S8828"}, "tx": null, "utah": null, "differences": ""}, {"cluster": "Governance", "eu": {"term": "Conformity assessment", "def": "\"â€˜conformity assessmentâ€™ means the process of demonstrating whether the requirements set out in Chapter III, Section 2 relating to a high-risk AI system have been fulfilled\"", "src": "AIA article 3"}, "ca": null, "co": null, "ny": null, "tx": null, "utah": null, "differences": ""}];

const SECOND_EDITION = [{"cluster": "AI Lifecycle", "concept": "Adversarial machine learning", "definition": "A field concerned with designing ML algorithms that can resist security challenges, studying the capabilities of attackers, and understanding attack consequences.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Autonomy (Autonomous AI)", "definition": "A systemâ€™s level of independence from human involvement and ability to operate without human intervention. [Different AI systems have different levels of autonomy.] An autonomous system has a set of learning, adaptive and analytical capabilities to respond to situations that were not pre-programmed or anticipated (i.e., decision-based responses) prior to system deployment. Autonomous or semi-autonomous AI systems can be characterised as \"human-in-the-loop\", \"human-on-the-loop\", or \"human-out-of-the-loop\" systems depending on their level of meaningful involvement of human beings.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Big data", "definition": "An all-encompassing term for large, complex digital data sets whose storage, analysis, management, and processing require similarly complex technological means and substantial computing power. Datasets are sometimes linked together to see how patterns in one domain affect other areas. Data can be structured into fixed fields or unstructured, and are often generated or received at a high rate. The analysis of big datasets, often using AI, can reveal patterns, trends, or underlying relationships that were not previously apparent.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Data augmentation", "definition": "A technique where the training dataset is increased in size and quality by altering the original training data to create new training examples. to train better machine learning models.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Data poisoning", "definition": "A type of security attack where malicious actors modify training data with the aim of corrupting the learned model, thus making the AI system learn something that it should not.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Feature engineering", "definition": "Feature engineering is the act of extracting features from raw dataâ€”i.e., extracting numeric representations of aspects of the dataâ€”and transforming them into formats that are suitable for a machine learning model.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Knowledge Representation", "definition": "The art of formalizing knowledge declaratively, typically for use in a symbolic AI system such as an expert system.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Lifecycle of an AI system", "definition": "An AI system lifecycle phases typically involves several phases including: 1) planning and design, 2) data collection and processing, 3) model building and/or adapting existing models to specific tasks, 4) testing, evaluation, verification and validation, 5) deployment, and 6) operation and monitoring. These phases often take place in an iterative manner and are not necessarily sequential.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Loss function (or cost function)", "definition": "The loss function produces a single, overall assessment metric, for training purposes, of an AI system taking any given available decision or action. Typically, the goal of AI system training is to minimize the total loss over some validation set of examples.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Machine learning", "definition": "Machine Learning (ML) is a branch of Artificial Intelligence (AI) that focuses on the development of systems capable of learning from data to perform a task without being explicitly programmed to perform that task. Learning refers to the process of optimizing model parameters through computational techniques such that the model's behaviour is optimized for the training task.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Natural language processing", "definition": "The field concerned with machines capable of processing, analysing, and generating human language, either spoken, written or signed.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Prompt", "definition": "Prompts are inputs to a generative AI system describing a task that the system should perform or the information it should respond to.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Prompt engineering", "definition": "The process of designing and crafting prompts for generative AI models to elicit desired outputs. It involves understanding the capabilities of the model and tailoring the prompt to effectively guide the model towards generating relevant, informative, and creative outputs.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Reinforcement learning", "definition": "Reinforcement learning (RL) is a subset of machine learning that allows an artificial system (sometimes referred to as an agent) in a given environment to optimize its behaviour. Agents learn from feedback signals received as a result of their actions, such as rewards or punishments, with the aim of maximizing the received reward. Such signals are computed based on a given reward function, which constitutes an abstract representation of the system's goal. The goal could be, for example, to earn a high video game score or to minimize idle worker time in a factory.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Synthetic data", "definition": "Synthetic data is data artificially generated by a computational process rather than being captured by sensory apparatus or manually created by humans. Synthetic data is often produced by a model trained to reproduce the characteristics and structure of its training data, aiming for similar distribution.", "source": ""}, {"cluster": "AI Lifecycle", "concept": "Training data", "definition": "Data used for training an AI system through fitting its learnable parameters, including the weights of a neural network.", "source": ""}, {"cluster": "Measurement", "concept": "Accuracy", "definition": "Closeness of computations or estimates to the exact or true values that the statistics were intended to measure. The concept of accuracy is often used to evaluate the predictive capability of the AI model.", "source": ""}, {"cluster": "Measurement", "concept": "AI system", "definition": "An AI system is a machine-based system that, for explicit or implicit objectives, infers, from the input it receives, how to generate outputs such as predictions, content, recommendations, or decisions that can influence physical or virtual environments. Different AI systems vary in their levels of autonomy and adaptiveness after deployment.", "source": ""}, {"cluster": "Measurement", "concept": "Adaptive learning (adaptiveness)", "definition": "Adaptiveness is the characteristic of some AI systems of being able to change their behaviour while in use based on interactions with input and data. [Adaptation may entail a change in the weights of the model or a change in the internal structure of the model itself.] [Examples include a speech recognition system that adapts to an individualâ€™s voice or a personalised music recommender system.] The new behaviour of the adapted system may produce different results than the previous system for the same inputs.", "source": ""}, {"cluster": "Measurement", "concept": "Expert system", "definition": "Automated systems encoded with knowledge of human experts, typically through knowledge representation techniques. Focused on narrow tasks and with automated decision-making based on \"if-then\" rules.", "source": ""}, {"cluster": "Measurement", "concept": "Federated learning", "definition": "Federated learning is an approach to machine learning which addresses problems of data governance and privacy by training algorithms collaboratively without transferring the data to a central location. Each federated device trains on data locally and shares its local model parameters instead of sharing the training data. Different federated learning systems have different topologies that involve different ways of sharing parameters.", "source": ""}, {"cluster": "Technical system attributes", "concept": "Human values for AI", "definition": "AI systems are not value neutral. Values are idealised qualities or conditions in the world that people find good. The design of human values in AI systems implies negotiation of different values and values-systems of meaning making, and it requires decisions regarding ethical principles, governance, policies and incentives. Designing AI with human values will necessitate awareness of the social and economic interests behind AI systems as well as respect for cultural diversity.", "source": ""}, {"cluster": "Technical system attributes", "concept": "Human-centric AI", "definition": "Human-Centric AI (or \"human-centered AI\") is an approach to the design, deployment and use of AI systems that considers them as components of socio-technical environments in which humans assume meaningful agency. The Human-Centric Approach to AI prioritizes enhancing human capabilities rather than replacing them. The approach is promoted in policy, research and engineering with the aim to develop AI systems as tools to serve human beings and to increase human and environmental well-being by promoting human rights, the rule of law, democratic values and sustainable development.", "source": ""}, {"cluster": "Technical system attributes", "concept": "Large language model", "definition": "A class of language models that use deep learning algorithms and are trained on extremely large textual datasets that can be multiple terabytes in size. Most LLMs can generate text, although some can only form a compressed representation of an input useful for tasks such as classification or question answering.", "source": ""}, {"cluster": "Technical system attributes", "concept": "Model", "definition": "A core component of an AI system used to make inferences from inputs in order to produce outputs. A model characterizes an input-to-output transformation intended to perform a core computational task of the AI system (e.g., classifying an image, predicting the next word for a sequence, or selecting a robot's next action given its state and goals).", "source": ""}, {"cluster": "Technical system attributes", "concept": "Neural network", "definition": "A neural network consists of one or more layers of neurons connected by weighted links with adjustable weights. A neural network receives input data and produces an output by passing it through the network, with each neuron performing a simple computation. Whereas some neural networks are intended to simulate the functioning of biological neurons in the nervous system, most neural networks in artificial intelligence are engineering tools that draw only loose inspiration from biology.", "source": ""}, {"cluster": "Governance", "concept": "Auditability of an AI system", "definition": "Auditability refers to the ability of an AI system to undergo assessment of its algorithms, data and design processes, in particular to determine whether the system is working as intended. Auditability does not necessarily imply that information about business models and intellectual property related to the AI system must always be openly available. Ensuring traceability and logging mechanisms from the early design phase of the AI system can help enable the system's auditability.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Bias", "definition": "An AI systemâ€™s differential treatment of different groups, which may arise from implicit systems of meaning, norms and values. See also â€œharmful biasâ€ and â€œdiscrimination.â€", "source": ""}, {"cluster": "Trusthworthy", "concept": "Harmful bias", "definition": "Biases of an AI system that create negative impacts such as unfair or discriminatory outcomes (see also â€œDiscriminationâ€). Different types of harmful bias emerge due to many factors, including but not limited to human or system decisions and processes across the AI lifecycle; pre-existing cultural and social bias in training data; technical limitations (such as non-representative or limited design specifications and data); or use in unanticipated contexts. Measures can be put in place to mitigate and detect bias.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Confabulation (or allucination)", "definition": "When generative AI systems generate inaccurate or false responses that can appear plausible to the user. Confabulation can, e.g., be the invention of erroneous historical or biographical information. AI confabulation is the result of statistical prediction, repetition of training data or patterns.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Data leakage", "definition": "[in the context of AI] Data leakage is the introduction of information a system will be expected to infer into the data it is trained on, which should not be legitimately available to learn from. This results in a high-performing model while evaluating the model on the test set during model development, but poor performance during deployment when evaluated on new data sets.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Deep fake", "definition": "AI-generated or manipulated image, audio or video content that resembles existing persons, objects, places or other entities or events and would falsely appear to a person to be authentic or truthful.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Discrimination", "definition": "Differential treatment of individuals based on factors such as their ethnicity, culture or religion. Discrimination can be a result of institutional and individual biases that are embedded in processes across the AI lifecycle, e.g. cultural and social biases held by AI actors and organisations, or represented in the data of AI systems. Discrimination can also be the result of technical limitations in hardware or software, or of the use of an AI system that, due to its context of application, does not treat all groups equally. As many forms of biases are systemic and implicit, they are not easily controlled or mitigated and require specific governance and other similar approaches.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Evasion", "definition": "Evasion is one of the most common attacks on Machine Learning models (ML) performed during production. It refers to designing an input which seems normal for a human but is wrongly classified by ML models, affecting their behaviour. A typical example is to change some pixels in a picture before uploading, so that an image recognition system fails to classify the result correctly. Evasion can also be used during deployment.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Opacity", "definition": "When one or more features of an AI system, such as processes, the provenance of datasets, functions, output or behaviour are unavailable or incomprehensible to all stakeholders â€“ usually an antonym for transparency.", "source": ""}, {"cluster": "Trusthworthy", "concept": "Trustworthy AI", "definition": "Trustworthy AI has three components: (1) it should be lawful, ensuring compliance with all applicable laws and regulations (2) it should be ethical, demonstrating respect for, and ensure adherence to, ethical principles and values and (3) it should be robust, both from a technical and social perspective, since, even with good intentions, AI systems can cause unintentional harm. Characteristics of Trustworthy AI systems include: valid and reliable, safe, secure and resilient, accountable and transparent, explainable and interpretable, privacy-enhanced, and fair with harmful bias managed. Trustworthy AI concerns not only the trustworthiness of the AI system itself but also comprises the trustworthiness of all processes and actors that are part of the AI systemâ€™s life cycle. Trustworthy AI is based on respect for human rights and democratic values.", "source": ""}];

const OBLIGATIONS = [{"theme": "Risk Management", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 9", "title": "Risk management system for high-risk AI", "text": "A risk management system shall be established, implemented, documented and maintained in relation to high-risk AI systems. The risk management system shall be understood as a continuous iterative process planned and run throughout the entire lifecycle of a high-risk AI system, requiring regular systematic review and updating. It shall comprise the identification and analysis of the known and reasonably foreseeable risks associated with each high-risk AI system; the estimation and evaluation of the risks that may emerge when the high-risk AI system is used in accordance with its intended purpose; the evaluation of other risks based on the analysis of data gathered from the post-market monitoring system.", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "Risk Management", "jurisdiction": "CA", "law": "California SB-53", "article": "Sec. 3", "title": "Frontier AI framework (catastrophic risk management)", "text": "A frontier developer shall implement and maintain a frontier AI framework â€” documented technical and organizational protocols to manage, assess, and mitigate catastrophic risks. The frontier AI framework shall include: (1) a description of the developer's approach to assessing and mitigating catastrophic risks; (2) an identification of the technical and organizational measures used to mitigate those risks; (3) procedures for the developer's response to critical safety incidents.", "url": "https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=202520260SB53"}, {"theme": "Risk Management", "jurisdiction": "CO", "law": "Colorado SB24-205", "article": "Sec. 6-21-105", "title": "Developer duties â€” risk disclosure and impact assessment", "text": "A developer of a high-risk artificial intelligence system shall: (1) use reasonable care to protect consumers from any known or reasonably foreseeable risks of algorithmic discrimination; (2) make available a statement summarizing the types of high-risk AI systems the developer has developed or substantially modified and the reasonably foreseeable uses and known harmful or discriminatory uses of those systems; (3) make available documentation sufficient for a deployer to conduct an impact assessment.", "url": "https://leg.colorado.gov/bills/sb24-205"}, {"theme": "Risk Management", "jurisdiction": "NY", "law": "New York A6453B", "article": "Sec. 1400", "title": "Safety and security protocol obligations", "text": "A large developer shall implement a safety and security protocol â€” documented technical and organizational protocols that: (a) describe reasonable protections and procedures that, if successfully implemented, would appropriately reduce the risk of critical harm; (b) include the large developer's plans for response and recovery in the event of a critical safety incident; (c) address the risks posed by the large developer's frontier models to third parties and to society.", "url": "https://www.nysenate.gov/legislation/bills/2025/A6453B"}, {"theme": "Provider Duties", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 16â€“18", "title": "Obligations of providers of high-risk AI systems", "text": "Providers of high-risk AI systems shall: ensure their systems comply with requirements in Chapter III, Section 2; have in place a quality management system; draw up technical documentation; keep logs automatically generated; ensure conformity assessment; register in the EU database; affix CE marking; take corrective action if necessary. Providers must also establish, implement, document and maintain a post-market monitoring system.", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "Provider Duties", "jurisdiction": "CA", "law": "California SB-53", "article": "Sec. 22603", "title": "Frontier developer obligations", "text": "A frontier developer shall: (1) not develop or make available a frontier model where doing so creates an unreasonable risk of causing or materially enabling critical safety incidents; (2) implement a frontier AI framework; (3) implement appropriate measures to prevent unauthorized access to the frontier model's model weights; (4) take reasonable steps to address critical safety incidents; (5) file annual certifications with the Attorney General confirming compliance.", "url": "https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=202520260SB53"}, {"theme": "Provider Duties", "jurisdiction": "CO", "law": "Colorado SB24-205", "article": "Sec. 6-21-105", "title": "Developer obligations for high-risk AI systems", "text": "A developer shall: use reasonable care to protect consumers from known or reasonably foreseeable risks of algorithmic discrimination arising from the use of high-risk AI systems; make available documentation sufficient for deployers to conduct an impact assessment; publicly disclose information about the intended uses and material risks of their high-risk AI systems. Developers must notify deployers of any modification that creates a reasonably foreseeable risk of algorithmic discrimination.", "url": "https://leg.colorado.gov/bills/sb24-205"}, {"theme": "Provider Duties", "jurisdiction": "TX", "law": "Texas HB149 TRAIGA", "article": "Sec. 552B", "title": "Developer obligations", "text": "A developer of an artificial intelligence system shall: disclose to deployers all known or reasonably foreseeable risks of the system, including risks of discrimination against individuals based on their membership in a protected class; provide deployers with documentation sufficient to perform an impact assessment; not knowingly make available an AI system that poses unreasonable risks of discrimination or harm. Developers must also implement procedures to address complaints and correct discriminatory uses.", "url": "https://capitol.texas.gov/BillLookup/History.aspx?LegSess=89R&Bill=HB149"}, {"theme": "Deployer Duties", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 26", "title": "Obligations of deployers of high-risk AI systems", "text": "Deployers of high-risk AI systems shall: take appropriate technical and organisational measures to ensure they use such systems in accordance with the instructions for use; assign human oversight to natural persons who have the necessary competence, training and authority; ensure that the input data is relevant and representative to the extent possible; monitor the operation of the high-risk AI system; inform the provider or distributor if they identify any serious incident or any malfunctioning.", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "Deployer Duties", "jurisdiction": "CO", "law": "Colorado SB24-205", "article": "Sec. 6-21-106", "title": "Deployer obligations for high-risk AI systems", "text": "A deployer shall: implement a risk management program for each high-risk AI system deployed; complete an impact assessment for each high-risk AI system; make publicly available a statement summarizing the types of high-risk AI systems they deploy and the measures taken to manage algorithmic discrimination risks; notify consumers when a consequential decision is made using a high-risk AI system; provide consumers with the right to appeal and correct data errors affecting consequential decisions.", "url": "https://leg.colorado.gov/bills/sb24-205"}, {"theme": "Deployer Duties", "jurisdiction": "TX", "law": "Texas HB149 TRAIGA", "article": "Sec. 552B", "title": "Deployer obligations", "text": "A deployer of an artificial intelligence system shall: conduct an impact assessment before deploying a high-risk AI system; implement risk management policies for high-risk AI systems; disclose to consumers when an AI system is making or substantially influencing a consequential decision; provide consumers with the opportunity to appeal decisions made by a high-risk AI system; notify the relevant state authority of any known incident of algorithmic discrimination.", "url": "https://capitol.texas.gov/BillLookup/History.aspx?LegSess=89R&Bill=HB149"}, {"theme": "Transparency", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 13 & 50", "title": "Transparency and information to deployers and users", "text": "High-risk AI systems shall be designed and developed in such a way, including with appropriate human-machine interface tools, that the operation is sufficiently transparent to enable deployers to interpret the system's output and use it appropriately. Providers shall also ensure that AI-generated content is marked as such â€” AI systems generating synthetic audio, image, video or text content shall disclose that the content was artificially generated (Art. 50).", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "Transparency", "jurisdiction": "CA", "law": "California SB-942", "article": "Sec. 1", "title": "AI content provenance and disclosure", "text": "Covered providers of generative AI systems shall: (1) include provenance data in all AI-generated images and videos; (2) provide users with the ability to detect and disclose AI-generated content; (3) maintain systems for responding to complaints about AI-generated content. System provenance data must be embedded in all synthetic content produced by the generative AI system to verify authenticity and origin.", "url": "https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=202320240SB942"}, {"theme": "Transparency", "jurisdiction": "CO", "law": "Colorado SB24-205", "article": "Sec. 6-21-106(3)", "title": "Notification to consumers of AI-driven consequential decisions", "text": "A deployer that makes a consequential decision shall: (1) notify the consumer that a high-risk AI system was used to make or contribute to the consequential decision; (2) provide the consumer with a plain-language description of the AI system and the role it played in the decision; (3) provide information about any data the deployer collected from the consumer that was used as input by the AI system; (4) provide the consumer the opportunity to correct any incorrect personal data.", "url": "https://leg.colorado.gov/bills/sb24-205"}, {"theme": "Incident Reporting", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 73", "title": "Reporting of serious incidents", "text": "Providers of high-risk AI systems shall report any serious incident to the market surveillance authorities of the Member States where that incident occurred. The notification shall include: information on the AI system involved, the nature of the incident, the harm caused or risked, the corrective actions taken. Providers shall report serious incidents without undue delay and no later than 15 days from when they become aware of the incident.", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "Incident Reporting", "jurisdiction": "CA", "law": "California SB-53", "article": "Sec. 22605", "title": "Critical safety incident reporting", "text": "A frontier developer shall report a critical safety incident to the California Attorney General within 72 hours of the developer becoming aware of the incident. The report shall include: (1) a description of the nature of the incident; (2) the model weights or systems involved; (3) the corrective actions taken or planned; (4) the known or reasonably foreseeable risks resulting from the incident. The developer shall file a supplemental report within 30 days.", "url": "https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=202520260SB53"}, {"theme": "Incident Reporting", "jurisdiction": "NY", "law": "New York A6453B", "article": "Sec. 1403", "title": "Safety incident notification requirements", "text": "A large developer shall notify the Department of Public Service within 72 hours of becoming aware of a safety incident. The notification shall include: (a) a description of the safety incident and the frontier model involved; (b) any known or reasonably foreseeable critical harm; (c) the corrective actions taken or planned; (d) any information about third parties harmed or at risk of harm. A supplemental report must be filed within 30 days.", "url": "https://www.nysenate.gov/legislation/bills/2025/A6453B"}, {"theme": "GPAI-Specific", "jurisdiction": "EU", "law": "EU AI Act", "article": "Art. 53â€“55", "title": "Obligations for GPAI model providers", "text": "Providers of general-purpose AI models shall: draw up and keep up-to-date technical documentation; provide information and documentation to downstream providers; establish a policy to respect copyright law; publish a summary of the content used for training. Providers of GPAI models with systemic risk (>10^25 FLOPs) must additionally: perform model evaluations; assess and mitigate systemic risks; report serious incidents to the AI Office; implement cybersecurity protections; implement a safe and security framework.", "url": "https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"}, {"theme": "GPAI-Specific", "jurisdiction": "CA", "law": "California SB-53", "article": "Sec. 22604", "title": "Frontier model safety evaluation requirements", "text": "A frontier developer shall, prior to making a frontier model available to the public or deployers: (1) complete a safety evaluation of the model covering catastrophic risks; (2) document the evaluation methodology and results; (3) retain records of the safety evaluation for at least five years; (4) implement the frontier AI framework; (5) ensure the model weights are protected against unauthorized access. Safety evaluations shall be updated when the model is substantially modified.", "url": "https://leginfo.legislature.ca.gov/faces/billTextClient.xhtml?bill_id=202520260SB53"}];

// Cross-references (derived from same-row equivalences)
const XREFS = [
  { a: "Provider", b: "Developer", type: "near-synonym", note: "EU covers all AI systems/GPAI; US typically scoped to high-risk or frontier models only" },
  { a: "Provider", b: "Large developer", type: "near-synonym", note: "NY adds revenue/compute threshold criteria" },
  { a: "General purpose AI model", b: "Foundation model", type: "near-synonym", note: "EU uses qualitative generality test; CA/NY use compute threshold (>10Â²â¶ FLOPs)" },
  { a: "Foundation model", b: "Frontier model", type: "narrower", note: "Frontier model is a specific subset of foundation model trained above compute threshold" },
  { a: "General purpose AI system", b: "Generative AI", type: "near-synonym", note: "EU focuses on GPAI-based systems with multiple purposes; US definitions focus on content generation capability" },
  { a: "Systemic risk", b: "Catastrophic risk", type: "conflict", note: "EU systemic risk threshold: >10Â²âµ FLOPs (GPAI models); CA/NY catastrophic risk defined by potential deaths (>50) or harm, not compute" },
  { a: "Risk management system", b: "Frontier AI framework", type: "near-synonym", note: "EU applies to all high-risk AI; CA applies only to frontier developers (catastrophic risk scope)" },
  { a: "Risk management system", b: "Safety and security protocol", type: "near-synonym", note: "NY term used for large developers with frontier models" },
  { a: "Serious incident", b: "Critical safety incident", type: "near-synonym", note: "EU covers high-risk AI systems; CA SB-53 focuses on frontier model incidents" },
  { a: "Serious incident", b: "Safety incident", type: "near-synonym", note: "NY A6453B definition covers critical harm indicators for frontier models" },
  { a: "Substantial modification", b: "Intentional and substantial modification", type: "conflict", note: "EU: change not foreseen in initial conformity assessment; CO: deliberate change creating new foreseeable discrimination risk" },
  { a: "High-risk systems", b: "High-risk AI system", type: "conflict", note: "EU: sector-based list (Annex III); CO: any AI that makes or substantially contributes to a consequential decision" },
  { a: "High-risk AI system", b: "Consequential decision", type: "narrower", note: "CO defines high-risk by the consequential decision trigger; consequential decision is the operationalizing concept" },
  { a: "Deployer", b: "Deployer", type: "near-synonym", note: "EU: using system under its authority; CO/TX: person doing business in-state who deploys" },
];

// Cluster color map
const CLUSTER_COLORS = {
  "Governance": "#207164",
  "Technical system attributes": "#1976d2",
  "Measurement": "#7c3aed",
  "Trustworthy": "#b91c1c",
  "AI Lifecycle": "#047857",
};

// Jurisdiction display map
const J_INFO = {
  eu:   { label: "EU",         color: "#1d4ed8", cls: "eu" },
  ca:   { label: "California", color: "#b45309", cls: "ca" },
  co:   { label: "Colorado",   color: "#047857", cls: "co" },
  ny:   { label: "New York",   color: "#7c3aed", cls: "ny" },
  tx:   { label: "Texas",      color: "#b91c1c", cls: "tx" },
  utah: { label: "Utah",       color: "#0369a1", cls: "utah" },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let show2ndEd = false;
let activeCluster = 'all';
let activeObJ = 'all';
let searchTerm = '';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODULE 1 â€” TERMINOLOGY TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getConceptLabel(row) {
  // Primary term: EU term, else first non-null term
  const jOrder = ['eu','ca','co','ny','tx','utah'];
  for (const j of jOrder) {
    if (row[j] && row[j].term) return row[j].term;
  }
  return 'â€”';
}

function getRowId(row, idx) {
  return 'row-' + idx;
}

function buildTermRow(row, idx, is2nd) {
  const rowId = is2nd ? 'se-' + idx : 'nc-' + idx;
  const cluster = row.cluster || (row.cluster);
  const clusterColor = CLUSTER_COLORS[cluster] || '#888';
  const conceptLabel = is2nd ? row.concept : getConceptLabel(row);
  const jKeys = ['eu','ca','co','ny','tx','utah'];
  
  // Build pill cells
  let cells = '';
  if (is2nd) {
    // Second edition: only EU column has meaning (original terms)
    cells += `<td class="td-j"><span class="term-pill pill-eu">${row.concept}</span></td>`;
    cells += '<td class="td-j td-empty">â€”</td><td class="td-j td-empty">â€”</td><td class="td-j td-empty">â€”</td><td class="td-j td-empty">â€”</td><td class="td-j td-empty">â€”</td>';
  } else {
    for (const j of jKeys) {
      const entry = row[j];
      if (entry && entry.term) {
        cells += `<td class="td-j"><span class="term-pill pill-${j}" data-concept="${encodeURIComponent(conceptLabel)}" data-j="${j}" onclick="openVariation(${JSON.stringify(conceptLabel)})">${entry.term}</span></td>`;
      } else {
        cells += '<td class="td-j td-empty">â€”</td>';
      }
    }
  }
  
  const highlight = searchTerm ? searchTerm.toLowerCase() : '';
  const nameTxt = highlight && conceptLabel.toLowerCase().includes(highlight)
    ? conceptLabel.replace(new RegExp(escapeRegex(searchTerm), 'gi'), m => `<mark>${m}</mark>`)
    : conceptLabel;
  
  const rowClass = is2nd ? 'concept-row second-ed-row' : 'concept-row';
  const badge2nd = is2nd ? '<span class="badge-2nd">2nd Ed</span>' : '';
  
  return `<tr class="${rowClass}" data-cluster="${cluster}" data-rowid="${rowId}" onclick="toggleRowDetail('${rowId}')">
    <td class="td-cluster">
      <div class="td-cluster-inner">
        <span class="row-cluster-dot" style="background:${clusterColor}"></span>
        <span style="font-size:0.8125rem;color:var(--color-text-secondary)">${cluster}</span>
      </div>
    </td>
    <td class="td-concept">
      <div class="concept-name">${nameTxt} ${badge2nd}</div>
    </td>
    ${cells}
  </tr>
  <tr id="detail-${rowId}" class="expand-row-detail">
    <td colspan="8" class="expand-detail-cell">
      ${buildDetailContent(row, is2nd)}
    </td>
  </tr>`;
}

function buildDetailContent(row, is2nd) {
  let cards = '';
  const jKeys = ['eu','ca','co','ny','tx','utah'];
  
  if (is2nd) {
    // Show second edition definition
    cards += `<div class="def-card">
      <div class="def-card-header">
        <span class="j-badge eu">TTC WG1</span>
        <span class="def-card-term">${row.concept}</span>
      </div>
      <div class="def-card-def">${row.definition || 'No definition available.'}</div>
      <div class="def-card-src">Source: ${row.source || 'TTC WG1 2nd Edition'}</div>
    </div>`;
  } else {
    for (const j of jKeys) {
      const entry = row[j];
      if (!entry || !entry.term) continue;
      const jInfo = J_INFO[j];
      cards += `<div class="def-card">
        <div class="def-card-header">
          <span class="j-badge ${j}">${jInfo.label}</span>
          <span class="def-card-term">${entry.term}</span>
        </div>
        <div class="def-card-def">${entry.def || 'See source legislation for full definition.'}</div>
        <div class="def-card-src">Source: ${entry.src || ''}</div>
      </div>`;
    }
    
    // Add differences note
    if (row.differences) {
      cards += `<div class="differences-note"><strong>Key differences:</strong> ${row.differences}</div>`;
    }
    
    // Add cross-reference chips
    const conceptLabel = getConceptLabel(row);
    const relXrefs = XREFS.filter(x => x.a === conceptLabel || x.b === conceptLabel);
    if (relXrefs.length > 0) {
      let xrefHtml = '<div class="xref-chips">';
      for (const xr of relXrefs) {
        const other = xr.a === conceptLabel ? xr.b : xr.a;
        xrefHtml += `<span class="xref-chip ${xr.type}" onclick="openVariation('${other}')" title="${xr.note}">${xr.type === 'near-synonym' ? 'â‰ˆ' : xr.type === 'conflict' ? 'âš¡' : 'â†”'} ${other}</span>`;
      }
      xrefHtml += '</div>';
      cards += xrefHtml;
    }
  }
  
  return `<div class="expand-detail-inner">${cards}</div>`;
}

function toggleRowDetail(rowId) {
  const detailRow = document.getElementById('detail-' + rowId);
  if (!detailRow) return;
  detailRow.classList.toggle('show');
  const conceptRow = document.querySelector(`[data-rowid="${rowId}"]`);
  if (conceptRow) conceptRow.classList.toggle('expanded');
}

function renderTermTable() {
  const tbody = document.getElementById('term-tbody');
  if (!tbody) return;
  
  let html = '';
  const searchLow = searchTerm.toLowerCase();
  
  // Collect rows to render
  let rows = NEW_CONCEPTS.map((r, i) => ({ row: r, idx: i, is2nd: false }));
  if (show2ndEd) {
    SECOND_EDITION.forEach((r, i) => rows.push({ row: r, idx: i, is2nd: true }));
  }
  
  // Filter by cluster
  if (activeCluster !== 'all') {
    rows = rows.filter(r => r.row.cluster === activeCluster);
  }
  
  // Filter by search
  if (searchLow) {
    rows = rows.filter(r => {
      const row = r.row;
      const text = JSON.stringify(row).toLowerCase();
      return text.includes(searchLow);
    });
  }
  
  // Group by cluster for headers
  const grouped = {};
  for (const item of rows) {
    const cluster = item.row.cluster || 'Other';
    if (!grouped[cluster]) grouped[cluster] = [];
    grouped[cluster].push(item);
  }
  
  const clusterOrder = ['Governance', 'Technical system attributes', 'Measurement', 'Trustworthy', 'AI Lifecycle', 'Other'];
  
  let totalRows = 0;
  for (const cluster of clusterOrder) {
    const items = grouped[cluster];
    if (!items || items.length === 0) continue;
    const color = CLUSTER_COLORS[cluster] || '#888';
    html += `<tr class="cluster-header-row"><td colspan="8"><span class="cluster-marker" style="background:${color}"></span>${cluster.toUpperCase()}</td></tr>`;
    for (const item of items) {
      html += buildTermRow(item.row, item.idx, item.is2nd);
      totalRows++;
    }
  }
  
  if (totalRows === 0) {
    html = '<tr><td colspan="8" style="padding:40px;text-align:center;color:var(--color-text-secondary)">No matching concepts found.</td></tr>';
  }
  
  tbody.innerHTML = html;
  updateSearchMeta(totalRows);
}

function updateSearchMeta(visibleRows) {
  const nc = NEW_CONCEPTS.length;
  const se = SECOND_EDITION.length;
  const xr = XREFS.length;
  document.getElementById('meta-new-concepts').textContent = `${nc} new regulatory concepts`;
  document.getElementById('meta-2nd-ed').textContent = `${se} 2nd edition terms`;
  document.getElementById('meta-xrefs').textContent = `${xr} cross-references`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODULE 2 â€” VARIATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function buildConceptSelector() {
  const sel = document.getElementById('concept-selector');
  if (!sel) return;
  
  // Build option list from NEW_CONCEPTS
  const groups = {};
  for (const row of NEW_CONCEPTS) {
    const cluster = row.cluster;
    if (!groups[cluster]) groups[cluster] = [];
    const label = getConceptLabel(row);
    groups[cluster].push(label);
  }
  
  let html = '<option value="">â€” Select a concept to compare â€”</option>';
  const clusterOrder = ['Governance','Technical system attributes','Measurement','Trustworthy'];
  for (const cluster of clusterOrder) {
    if (!groups[cluster]) continue;
    html += `<optgroup label="${cluster}">`;
    for (const label of groups[cluster]) {
      if (label && label !== 'â€”') {
        html += `<option value="${escapeAttr(label)}">${label}</option>`;
      }
    }
    html += '</optgroup>';
  }
  sel.innerHTML = html;
}

function renderVariations(conceptLabel) {
  const grid = document.getElementById('variations-grid');
  const histBox = document.getElementById('def-history-box');
  if (!grid) return;
  
  if (!conceptLabel) {
    grid.innerHTML = '<div class="no-variations-msg">Select a concept above to see cross-jurisdictional definitions.</div>';
    histBox.classList.add('hidden');
    return;
  }
  
  // Find matching rows in NEW_CONCEPTS
  const matchRows = NEW_CONCEPTS.filter(row => {
    const jKeys = ['eu','ca','co','ny','tx','utah'];
    return jKeys.some(j => row[j] && row[j].term === conceptLabel) || getConceptLabel(row) === conceptLabel;
  });
  
  // Check if concept also appears in second edition
  const se2nd = SECOND_EDITION.find(t => t.concept.toLowerCase() === conceptLabel.toLowerCase());
  
  if (matchRows.length === 0) {
    grid.innerHTML = `<div class="no-variations-msg">No cross-jurisdictional data found for "${conceptLabel}".</div>`;
    histBox.classList.add('hidden');
    return;
  }
  
  // Show definitional history box if in 2nd edition
  if (se2nd) {
    histBox.classList.remove('hidden');
    histBox.innerHTML = `<div class="def-hist-title">Definitional History â€” TTC WG1 2nd Edition</div>
      <div class="def-hist-text">This concept appears in the <strong>EU-US TTC WG1 2nd Edition Terminology</strong> (2024) under cluster "<em>${se2nd.cluster}</em>". The 2nd edition definition provides the baseline: <em>"${se2nd.definition || 'see source'}"</em> The regulatory definitions below reflect how individual jurisdictions have operationalized this concept in binding legislation.</div>`;
  } else {
    histBox.classList.add('hidden');
  }
  
  // Render cards
  let cardsHtml = '';
  const jKeys = ['eu','ca','co','ny','tx','utah'];
  const rendered = new Set();
  
  for (const row of matchRows) {
    for (const j of jKeys) {
      const entry = row[j];
      if (!entry || !entry.term) continue;
      const key = j + ':' + entry.term;
      if (rendered.has(key)) continue;
      rendered.add(key);
      const jInfo = J_INFO[j];
      cardsHtml += `<div class="variation-card">
        <div class="variation-card-header" style="background:${jInfo.color}10;border-bottom-color:${jInfo.color}30">
          <span class="j-badge ${j}">${jInfo.label}</span>
          <div class="variation-card-term">${entry.term}</div>
        </div>
        <div class="variation-card-body">
          <div class="variation-def">"${entry.def || 'Full definition available in source legislation.'}"</div>
          <div class="variation-src"><strong>Source:</strong> ${entry.src || ''}</div>
        </div>
      </div>`;
    }
    
    // Differences annotation
    if (row.differences) {
      cardsHtml += `<div class="differences-note" style="grid-column:1/-1"><strong>Key differences noted:</strong> ${row.differences}</div>`;
    }
  }
  
  // Cross-reference chips
  const relXrefs = XREFS.filter(x => x.a === conceptLabel || x.b === conceptLabel);
  if (relXrefs.length > 0) {
    cardsHtml += `<div class="xref-chips" style="grid-column:1/-1">`;
    for (const xr of relXrefs) {
      const other = xr.a === conceptLabel ? xr.b : xr.a;
      cardsHtml += `<span class="xref-chip ${xr.type}" onclick="loadVariation('${escapeAttr(other)}')" title="${xr.note}">${xr.type === 'near-synonym' ? 'â‰ˆ near-synonym: ' : xr.type === 'conflict' ? 'âš¡ conflict: ' : 'â†” '}${other}</span>`;
    }
    cardsHtml += '</div>';
  }
  
  grid.innerHTML = cardsHtml || '<div class="no-variations-msg">No definitions available.</div>';
}

function openVariation(conceptLabel) {
  // Switch to variations tab and load concept
  switchModule('variations');
  const sel = document.getElementById('concept-selector');
  if (sel) {
    sel.value = conceptLabel;
    renderVariations(conceptLabel);
  }
}

function loadVariation(conceptLabel) {
  const sel = document.getElementById('concept-selector');
  if (sel) {
    sel.value = conceptLabel;
    renderVariations(conceptLabel);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODULE 3 â€” OBLIGATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const THEME_ORDER = ['Risk Management','Provider Duties','Deployer Duties','Transparency','Incident Reporting','GPAI-Specific'];
const J_SHORT_TO_KEY = { 'EU':'EU','CA':'CA','CO':'CO','NY':'NY','TX':'TX','Utah':'Utah' };

function renderObligations() {
  const container = document.getElementById('ob-themes-container');
  if (!container) return;
  
  // Filter by jurisdiction
  let obs = OBLIGATIONS;
  if (activeObJ !== 'all') {
    const jMap = { EU:'EU', CA:'CA', CO:'CO', NY:'NY', TX:'TX', Utah:'Utah' };
    obs = obs.filter(o => o.jurisdiction === activeObJ);
  }
  
  // Filter by search
  if (searchTerm) {
    const sl = searchTerm.toLowerCase();
    obs = obs.filter(o => (o.title + o.text + o.law + o.theme).toLowerCase().includes(sl));
  }
  
  // Group by theme
  const grouped = {};
  for (const ob of obs) {
    if (!grouped[ob.theme]) grouped[ob.theme] = [];
    grouped[ob.theme].push(ob);
  }
  
  let html = '';
  for (const theme of THEME_ORDER) {
    const items = grouped[theme];
    if (!items || items.length === 0) continue;
    const themeId = 'theme-' + theme.replace(/\s+/g,'-').toLowerCase();
    
    let cards = '';
    for (const ob of items) {
      const jInfo = J_INFO[ob.jurisdiction.toLowerCase()] || { label: ob.jurisdiction, color:'#888', cls:'eu' };
      const textWithHighlight = searchTerm
        ? ob.text.replace(new RegExp(escapeRegex(searchTerm), 'gi'), m => `<mark>${m}</mark>`)
        : ob.text;
      cards += `<div class="ob-card">
        <div class="ob-card-header">
          <span class="j-badge ${ob.jurisdiction.toLowerCase()}">${ob.jurisdiction}</span>
          <span style="font-size:0.75rem;color:var(--color-text-secondary);font-weight:500;flex:1">${ob.law}</span>
          <span class="ob-card-article">${ob.article}</span>
        </div>
        <div class="ob-card-title">${ob.title}</div>
        <div class="ob-card-text">${textWithHighlight}</div>
        ${ob.url ? `<a class="ob-card-link" href="${ob.url}" target="_blank" rel="noopener">View source â†—</a>` : ''}
      </div>`;
    }
    
    html += `<div class="ob-theme" id="${themeId}">
      <div class="ob-theme-header" onclick="toggleTheme('${themeId}')">
        <span class="ob-theme-title">${theme}</span>
        <span class="ob-theme-count">${items.length} jurisdiction${items.length !== 1 ? 's' : ''}</span>
        <svg class="ob-theme-chevron" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
        </svg>
      </div>
      <div class="ob-theme-body" id="body-${themeId}">
        ${cards}
      </div>
    </div>`;
  }
  
  if (!html) {
    html = '<div style="padding:40px;text-align:center;color:var(--color-text-secondary)">No obligations match the current filter.</div>';
  }
  
  container.innerHTML = html;
  
  // Open first theme by default
  if (THEME_ORDER.length > 0) {
    const firstTheme = THEME_ORDER.find(t => grouped[t] && grouped[t].length > 0);
    if (firstTheme) {
      const firstId = 'theme-' + firstTheme.replace(/\s+/g,'-').toLowerCase();
      openTheme(firstId);
    }
  }
}

function toggleTheme(themeId) {
  const header = document.querySelector(`#${themeId} .ob-theme-header`);
  const body = document.getElementById('body-' + themeId);
  const chevron = header?.querySelector('.ob-theme-chevron');
  if (!body) return;
  const isOpen = body.classList.contains('open');
  body.classList.toggle('open');
  header?.classList.toggle('open');
  if (chevron) chevron.classList.toggle('open');
}

function openTheme(themeId) {
  const header = document.querySelector(`#${themeId} .ob-theme-header`);
  const body = document.getElementById('body-' + themeId);
  const chevron = header?.querySelector('.ob-theme-chevron');
  if (!body) return;
  body.classList.add('open');
  header?.classList.add('open');
  if (chevron) chevron.classList.add('open');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TAB SWITCHING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function switchModule(moduleName) {
  document.querySelectorAll('.module-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.module-tab').forEach(t => {
    t.classList.toggle('active', t.dataset.module === moduleName);
    t.setAttribute('aria-selected', t.dataset.module === moduleName);
  });
  const panel = document.getElementById('module-' + moduleName);
  if (panel) panel.classList.add('active');
  
  if (moduleName === 'terminology') renderTermTable();
  if (moduleName === 'variations') { buildConceptSelector(); renderVariations(document.getElementById('concept-selector')?.value); }
  if (moduleName === 'obligations') renderObligations();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CLUSTER FILTER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initClusterFilters() {
  document.querySelectorAll('.cluster-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      activeCluster = chip.dataset.cluster;
      document.querySelectorAll('.cluster-chip').forEach(c => c.classList.toggle('active', c === chip));
      renderTermTable();
    });
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  OBLIGATION FILTERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initObligationFilters() {
  document.querySelectorAll('.j-filter-chip').forEach(chip => {
    chip.addEventListener('click', () => {
      activeObJ = chip.dataset.j;
      document.querySelectorAll('.j-filter-chip').forEach(c => c.classList.toggle('active', c === chip));
      renderObligations();
    });
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  2ND EDITION TOGGLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function init2ndEdToggle() {
  const btn = document.getElementById('btn-2nd-ed');
  if (!btn) return;
  btn.addEventListener('click', () => {
    show2ndEd = !show2ndEd;
    btn.textContent = show2ndEd ? 'âˆ’ Remove 2nd Edition Terms' : '+ Add 2nd Edition Terms';
    btn.classList.toggle('on', show2ndEd);
    btn.classList.toggle('off', !show2ndEd);
    renderTermTable();
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODULE TAB EVENTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initTabs() {
  document.querySelectorAll('.module-tab').forEach(tab => {
    tab.addEventListener('click', () => switchModule(tab.dataset.module));
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SEARCH
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initSearch() {
  const input = document.getElementById('global-search');
  if (!input) return;
  let debounceTimer;
  input.addEventListener('input', () => {
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => {
      searchTerm = input.value.trim();
      const activeModule = document.querySelector('.module-tab.active')?.dataset.module;
      if (activeModule === 'terminology') renderTermTable();
      else if (activeModule === 'variations') renderObligations(); // re-render current
      else if (activeModule === 'obligations') renderObligations();
    }, 200);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function escapeRegex(s) {
  return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}

function escapeAttr(s) {
  return s.replace(/"/g, '&quot;').replace(/'/g, '&#39;');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initConceptSelector() {
  const sel = document.getElementById('concept-selector');
  if (!sel) return;
  sel.addEventListener('change', () => {
    renderVariations(sel.value);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initTabs();
  initClusterFilters();
  init2ndEdToggle();
  initObligationFilters();
  initSearch();
  buildConceptSelector();
  initConceptSelector();
  renderTermTable();
  updateSearchMeta(NEW_CONCEPTS.length);
});
</script>
</body>
</html>